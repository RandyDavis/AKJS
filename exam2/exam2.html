<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Exam 2</title>
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
  <h2 id="test_status"></h2>
  <div id="test"></div>
  

  <script>
    // Setup Environment variables
    var pos = 0, test, test_status, question, choice, choices, chA, chB, chC, chD, correct = 0;
    // Create quiz questions 
    var questions = [
      [ "I am the leader of the Autobots:",
        "Star Scream",
        "Optimus Prime",
        "Megatron",
        "Ratchet",
        "B"
      ],
      [ "I am the director responsible for making the recent Transformers movies the success they are by making sure to include lots of  blowing sh*t up:",
        "Steven Speilberg",
        "James Cameron",
        "Chris Nolan",
        "Michael Bay",
        "D"
      ],
      [ "I was ripped in half and destroyed by the leader of the Decepticons:",
        "Jazz",
        "Cliff Jumper",
        "Iron Hide",
        "Bumble Bee",
        "A"
      ],
      [ "I am a general bad a$$ and audience favorite despite not being able to talk:",
        "Bumble Bee",
        "Ratchet",
        "Astro Train",
        "Hot Rod",
        "A"
      ],
      [ "I was a nobody at the start of the first Transformers movie, but have had nothing but hot girlfriends ever since:",
        "Mark Wahlberg",
        "Shia LeBouf",
        "Robert Downey Jr.",
        "Daniel Radcliffe",
        "B"
      ],
      [ "I am the leader of the Decepticons:",
        "Lockdown",
        "Optimus Prime",
        "Megatron",
        "Star Scream",
        "C"
      ],
      [ "I am an intergalactic hunter:",
        "Ultra Magnus",
        "Lockdown",
        "Galvatron",
        "Hound",
        "B"
      ],
      [ "My girlfriend dumped me after the second movie. Who was the philly that broke my heart?",
        "Megan Fox",
        "Rosie Huntington",
        "Beyonce",
        "Rachel McAdams",
        "A"
      ],
      [ "What was the profession of the dad who was the lead role in Transformers 4?",
        "Police Officer",
        "Auto Mechanic",
        "Inventor",
        "Gif Creator",
        "C"
      ],
      [ "Who was the legendary warrior that was freed and joined the battle in Transformers 4?",
        "Grimlock",
        "Unicron",
        "Ratchet",
        "Megatron",
        "A"
      ]
    ];

    // Create function to target div to display quiz
    function _(x) {
      return document.getElementById(x);
    }

    // Render questions dynamically
    function renderQuestion() {
      test = _("test");  // retrieve div that will show the question
      if (pos >= questions.length) {
        test.innerHTML = "<h2>You got " + correct + " out of " + questions.length + " questions correct.";
        _("test_status").innerHTML = "Test Completed";
        pos = 0;
        correct = 0;
        return false; 
      }
      _("test_status").innerHTML = "Question " + (pos + 1) + " of " + questions.length;
      question = questions[pos][0];
      chA = questions[pos][1];
      chB = questions[pos][2];
      chC = questions[pos][3];
      chD = questions[pos][4];
      test.innerHTML = "<h3>" + question + "</h3>";
      test.innerHTML += "<input type='radio' name='choices' value='A'> " + chA + "<br>";
      test.innerHTML += "<input type='radio' name='choices' value='B'> " + chB + "<br>";
      test.innerHTML += "<input type='radio' name='choices' value='C'> " + chC + "<br>";
      test.innerHTML += "<input type='radio' name='choices' value='D'> " + chD + "<br>";
      test.innerHTML += "<button onclick='checkAnswer()'>Submit Answer</button>";
    }

    // Create loop to check which answer the user has selected
    function checkAnswer() {
      choices = document.getElementsByName("choices");
      for (var i = 0; i < choices.length; i++) {
        if (choices[i].checked) {
          choice = choices[i].value;
        }
      }
      if (choice == questions[pos][5]) {
        correct++;
        console.log(questions[pos][5]);
      }
      pos++;
      renderQuestion();
    }

    window.addEventListener("load", renderQuestion, false);


  </script>

  <!-- Live Reload Script -->
  <script>document.write('<script src="http://' + (location.host || 'localhost').split(':')[0] + ':35729/livereload.js?snipver=1"></' + 'script>')</script>
</body>
</html>